<div fxLayout="row" fxLayoutAlign="center center" class="login-main">
  <mat-card class="card">
    <mat-card-header>
      <mat-card-title>{{ "Update" | translate }}</mat-card-title>
    </mat-card-header>
    <mat-card-content fxLayout="column">
      <form [formGroup]="groupForm">
        <mat-form-field appearance="outline">
          <mat-label>{{ "Equipment User" | translate }}</mat-label>
          <input
            id="equipUser"
            matInput
            placeholder="Equipment User"
            formControlName="equipmentUser"
          />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>{{ "Allocated Metric" | translate }}</mat-label>
          <input
            id="allocatMetric"
            matInput
            placeholder="Allocated Metric"
            formControlName="allocatedMetric"
          />
        </mat-form-field>
      </form>
    </mat-card-content>
    <mat-card-actions align="center">
      <button
        id="cancelBtn"
        mat-raised-button
        class="btn-four"
        [disabled]="_loading"
        [mat-dialog-close]="true"
      >
        {{ "Cancel" | translate }}
      </button>
      <button
        id="resetBtn"
        mat-raised-button
        class="btn-three"
        [disabled]="groupForm.pristine"
        (click)="resetGroup()"
      >
        {{ "Reset" | translate }}
      </button>
      <button
        id="createBtn"
        mat-raised-button
        class="btn-two"
        [disabled]="groupForm.invalid || groupForm.pristine"
        (click)="updateAllocatedMetric(successDialog, errorDialog)"
      >
        <span
          class="spinner-border spinner-border-sm"
          role="status"
          aria-hidden="true"
          *ngIf="_loading"
        ></span>
        {{ "Update" | translate }}
      </button>
    </mat-card-actions>
  </mat-card>

  <ng-template #successDialog>
    <mat-dialog-content>
      <p>{{ "UPDATE_USER_SUCCESS" | translate }}</p>
    </mat-dialog-content>
    <mat-dialog-actions align="center">
      <button
        mat-button
        [mat-dialog-close]="true"
        class="btn-two"
        cdkFocusInitial
      >
        {{ "OK" | translate }}
      </button>
    </mat-dialog-actions>
  </ng-template>
  <ng-template #errorDialog>
    <mat-dialog-content>
      <p>{{ "UPDATE_USER_ERROR" | translate }}</p>
    </mat-dialog-content>
    <mat-dialog-actions align="center">
      <button
        mat-button
        [mat-dialog-close]="true"
        class="btn-two"
        cdkFocusInitial
      >
        {{ "OK" | translate }}
      </button>
    </mat-dialog-actions>
  </ng-template>
</div>
